<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

<p>웹서버에 application/json 타입의 값을 보낼경우</p>
<button type="button" onclick="f1()">요청1 (JSON => Map)</button>
<p>웹서버에 application/json 타입의 값을 보낼경우</p>
<button type="button" onclick="f2()">요청2 (JSON => User)</button>
<p>웹서버에 application/json 타입의 값을 보낼경우</p>
<button type="button" onclick="f3()">요청3 (자동 변환)</button>

<script>
function f1() {
	var xhr = new XMLHttpRequest();
	xhr.open('POST','../app/v02/test17/m1', false); // 웹서버에 연결한다.
    xhr.setRequestHeader("Content-Type", "text/plain");
    var obj = {
    		name: "aaa",
    		age: 20,
    		tel: "111-1111",
    		email: "aaa@test.com"
    };    
    var str = JSON.stringify(obj);
    xhr.send(str);
	//xhr.send("{\"name\":\"aaa\",\"age\":20,\"tel\":\"111-1111\",\"email\":\"aaaa@test.com\"}"); // 웹서버에 POST 요청을 보낸다.
    window.alert(xhr.responseText); // 웹서버가 응답한 내용 출력
}
function f2() {
    var xhr = new XMLHttpRequest();
    xhr.open('POST','../app/v02/test17/m2', false); // 웹서버에 연결한다.
    xhr.setRequestHeader("Content-Type", "text/plain");
    var obj = {
            name: "aaa",
            age: 20,
            tel: "111-1111",
            email: "aaa@test.com"
    };    
    var str = JSON.stringify(obj);
    xhr.send(str);
    //xhr.send("{\"name\":\"aaa\",\"age\":20,\"tel\":\"111-1111\",\"email\":\"aaaa@test.com\"}"); // 웹서버에 POST 요청을 보낸다.
    window.alert(xhr.responseText); // 웹서버가 응답한 내용 출력
}
function f3() {
    var xhr = new XMLHttpRequest();
    xhr.open('POST','../app/v02/test17/m3', false); // 웹서버에 연결한다.
    xhr.setRequestHeader("Content-Type", "application/json");
    var obj = {
            name: "aaa",
            age: 20,
            tel: "111-1111",
            email: "aaa@test.com"
    };    
    var str = JSON.stringify(obj);
    xhr.send(str);
    //xhr.send("{\"name\":\"aaa\",\"age\":20,\"tel\":\"111-1111\",\"email\":\"aaaa@test.com\"}"); // 웹서버에 POST 요청을 보낸다.
    window.alert(xhr.responseText); // 웹서버가 응답한 내용 출력
}
</script>
</body>
</html>